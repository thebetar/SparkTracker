(()=>{var y=(t,e)=>()=>(t&&(e=t(t=0)),e);var S=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var D,m,r,w=y(()=>{D="https://qcginwkfkawkktlmdiwa.supabase.co",m="sb_publishable_qKwdg4z8WaFaMILkWU6a8w_70UrxeQ5",r=class{constructor(e,i=0,d=0,a=null){this.name=e,this.element=a,this.scroll=i,this.duration=d,this.url=window.location.href,this.referrer=document.referrer,this.language=navigator.language||navigator.userLanguage,this.userAgent=navigator.userAgent,this.screenWidth=window.screen.width,this.screenHeight=window.screen.height,this.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone}getUserId(){let e=localStorage.getItem("vonk_tracker_user_id");return e||(e=crypto.randomUUID(),localStorage.setItem("vonk_tracker_user_id",e)),e}toJSON(){return{name:this.name,url:this.url,user_id:this.getUserId(),scroll:this.scroll,duration:this.duration,timezone:this.timezone,language:this.language,referrer:this.referrer,user_agent:this.userAgent,screen_width:this.screenWidth,screen_height:this.screenHeight,element:this.element?{tagName:this.element.tagName,id:this.element.id||null,classes:this.element.className||null,text:this.element.innerText||this.element.value||null}:null}}send(){fetch(`${D}/rest/v1/events`,{method:"POST",headers:{"Content-Type":"application/json",apikey:m,Authorization:`Bearer ${m}`,Prefer:"return=minimal"},body:JSON.stringify(this.toJSON())}).catch(e=>console.error("Error sending event data:",e))}}});var E=S(()=>{w();(function(){let t=[{type:"pixel",value:100},{type:"pixel",value:500},{type:"percentage",value:50},{type:"percentage",value:100}],e=new WeakSet,i=new Set,d=Date.now(),a,o=0;function h(){return Math.round((Date.now()-d)/1e3)}function p(){document.querySelectorAll('button, a, input[type="button"], input[type="submit"]').forEach(s=>{e.has(s)||(e.add(s),s.addEventListener("click",function(c){new r("button_click",o,h(),c.currentTarget).send()}))})}function f(){let l=document.documentElement.scrollHeight,s=window.innerHeight,c=l-s,u=window.scrollY,k=c>0?Math.round(u/c*100):100;o=Math.max(o,u),t.forEach(n=>{let v=`${n.type}-${n.value}`;if(i.has(v))return;let g=!1;(n.type==="pixel"&&u>=n.value||n.type==="percentage"&&k>=n.value)&&(g=!0),g&&(i.add(v),new r(`scroll_depth_${n.type}`,n.value,h()).send())})}function _(){p(),a=setInterval(p,1e3),window.addEventListener("scroll",f),new r("page_load").send()}window.addEventListener("beforeunload",()=>{a&&clearInterval(a),new r("session_end",o,h()).send()}),document.addEventListener("DOMContentLoaded",_)})()});E();})();
